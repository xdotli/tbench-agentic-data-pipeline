FROM python:3.11-slim

WORKDIR /app

# Install runtime dependencies for the API
RUN pip install --no-cache-dir \
    fastapi==0.104.1 \
    uvicorn==0.24.0

# Copy the initial (buggy) worker implementation into the container
COPY worker_queue.py /app/worker_queue.py

EXPOSE 8000

CMD ["python", "/app/worker_queue.py"]